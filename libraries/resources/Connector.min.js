
var AppConnector={requestPjax:function(a){return AppConnector._request(a,true)},request:function(a){return AppConnector._request(a,false)},_request:function(d,l){var h=jQuery.Deferred();if(typeof l=="undefined"){l=false}if(typeof d=="undefined"){d={}}if(typeof d.data=="undefined"){if(typeof d=="string"){var j=d;var g=j.indexOf("?");if(g!==-1){var b=j.substr(0,g+1);j=j.replace(b,"")}}else{j=jQuery.extend({},d)}d={};d.data=j}if(typeof d.type=="undefined"){d.type="POST"}if(typeof d.jsonp=="undefined"){d.jsonp=false}if(typeof d.dataType=="undefined"){var e=d.data;d.dataType="json";if(e.hasOwnProperty("view")){d.dataType="html"}else{if(typeof e=="string"&&e.indexOf("&view=")!==-1){d.dataType="html"}}if(typeof d.url!="undefined"&&d.url.indexOf("&view=")!==-1){d.dataType="html"}}if(typeof d.url!="undefined"&&d.url.indexOf("?")!==-1){var f=d.url.split("?");var a=f[1];d.url=f[0];var c=a.split("&");for(var g=0;g<c.length;g++){var n=c[g];var m=n.split("=");d.data[m[0]]=m[1]}}if(typeof d.url=="undefined"||d.url.length<=0){d.url="index.php"}var o=function(r,p,q){if(typeof r=="object"&&r.error){app.errorLog(r.error)}h.resolve(r)};var k=function(p,r,q){app.errorLog(p,r,q);h.reject(r,q)};if(l){if(typeof d.container=="undefined"){d.container="#pjaxContainer"}d.type="GET";var i=jQuery("#pjaxContainer");if(d.container=="#pjaxContainer"){i.html("")}jQuery(document).on("pjax:success",function(r,s,p,q){i.html("");o(s,p,q)});jQuery(document).on("pjax:error",function(q,p,s,r){i.html("");k(p,s,r)});jQuery.pjax(d)}else{d.success=o;d.error=k;jQuery.ajax(d)}return h.promise()},requestForm:function(b,d){var a="<form action="+b+' method="POST">';if(typeof csrfMagicName!=="undefined"){a+='<input type="hidden" name="'+csrfMagicName+"\"  value='"+csrfMagicToken+"'>"}if(typeof d!=="undefined"){jQuery.each(d,function(e,f){a+='<input type="hidden" name="'+e+"\"  value='"+f+"'>"})}a+="</form>";var c=new jQuery(a);c.appendTo("body").submit()},};